var twentytwenty=twentytwenty||{};function twentytwentyDomReady(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)}function twentytwentyToggleAttribute(e,t,n,o){e.classList.contains("close-search-toggle")||(void 0===n&&(n=!0),void 0===o&&(o=!1),e.getAttribute(t)!==n?e.setAttribute(t,n):e.setAttribute(t,o))}function twentytwentyMenuToggle(e,t){var n,o,i,a,s,l=[],c=[];e&&(i=e.closest(".menu-wrapper"),(a=i.querySelectorAll(".menu-item")).forEach((function(e,t){l[t]={x:e.offsetLeft,y:e.offsetTop}})),n=e.parentElement.offsetHeight,e.classList.add("toggling-target"),e.classList.toggle("active"),a.forEach((function(e,t){c[t]={x:e.offsetLeft,y:e.offsetTop}})),o=e.parentElement.offsetHeight,e.classList.toggle("active"),i.classList.add("is-toggling"),e.classList.toggle("active"),a.forEach((function(t,o){var i=l[o];0===i.y&&t.parentElement===e&&(i.y=n),t.style.transform="translate("+i.x+"px, "+i.y+"px)"})),requestAnimationFrame((function(){requestAnimationFrame((function(){i.classList.add("is-animating"),a.forEach((function(n,i){var a=c[i];0===a.y&&n.parentElement===e&&(a.y=o),void 0!==t&&(n.style.transitionDuration=t+"ms"),n.style.transform="translate("+a.x+"px, "+a.y+"px)"})),void 0!==t&&(e.style.transitionDuration=t+"ms")})),s=function(){i.classList.remove("is-animating"),i.classList.remove("is-toggling"),e.classList.remove("toggling-target"),a.forEach((function(e){e.style.transform="",e.style.transitionDuration=""})),e.style.transitionDuration="",e.removeEventListener("transitionend",s)},e.addEventListener("transitionend",s)})))}function twentytwentyFindParents(e,t){var n=[];return function e(o){var i=o.parentNode;i instanceof HTMLElement&&(i.matches(t)&&n.push(i),e(i))}(e),n}function changeTabs(e){const t=e.target,n=t.parentNode,o=n.parentNode;n.querySelectorAll('[aria-selected="true"]').forEach((e=>e.setAttribute("aria-selected",!1))),t.setAttribute("aria-selected",!0),o.querySelectorAll('[role="tabpanel"]').forEach((e=>e.setAttribute("hidden",!0))),o.parentNode.querySelector(`#${t.getAttribute("aria-controls")}`).removeAttribute("hidden")}twentytwenty.scrolled=0,Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){var n,o=this.length;for(t=t||window,n=0;n<o;n++)e.call(t,this[n],n,this)}),twentytwenty.createEvent=function(e){var t;return"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!1),t},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),twentytwenty.touchEnabled={init:function(){var e;("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||(e=["(",["-webkit-","-moz-","-o-","-ms-"].join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia&&window.matchMedia(e).matches))&&document.body.classList.add("touch-enabled")}},twentytwenty.coverModals={init:function(){document.querySelector(".cover-modal")&&(this.onToggle(),this.outsideUntoggle(),this.closeOnEscape(),this.hideAndShowModals())},onToggle:function(){document.querySelectorAll(".cover-modal").forEach((function(e){e.addEventListener("toggled",(function(e){var t=e.target,n=document.body;t.classList.contains("active")?n.classList.add("showing-modal"):(n.classList.remove("showing-modal"),n.classList.add("hiding-modal"),setTimeout((function(){n.classList.remove("hiding-modal")}),500))}))}))},outsideUntoggle:function(){document.addEventListener("click",function(e){var t=e.target,n=document.querySelector(".cover-modal.active");"a"===e.target.tagName.toLowerCase()&&e.target.hash.includes("#")&&null!==n&&(this.untoggleModal(n),setTimeout((function(){document.getElementById(e.target.hash.slice(1)).scrollIntoView()}),550)),t===n&&this.untoggleModal(t)}.bind(this))},closeOnEscape:function(){document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),document.querySelectorAll(".cover-modal.active").forEach(function(e){this.untoggleModal(e)}.bind(this)))}.bind(this))},hideAndShowModals:function(){var e=document,t=window,n=e.querySelectorAll(".cover-modal"),o=e.documentElement.style,i=e.querySelector("#wpadminbar");function a(e){var n,o=t.pageYOffset;return i?(n=o+i.getBoundingClientRect().height,e?-n:n):0===o?0:-o}function s(){return{"overflow-y":t.innerHeight>e.documentElement.getBoundingClientRect().height?"hidden":"scroll",position:"fixed",width:"100%",top:a(!0)+"px",left:0}}n.forEach((function(n){n.addEventListener("toggle-target-before-inactive",(function(l){var c=s(),r=t.pageYOffset,u=Math.abs(a())-r+"px",d=t.matchMedia("(max-width: 600px)");l.target===n&&(Object.keys(c).forEach((function(e){o.setProperty(e,c[e])})),t.twentytwenty.scrolled=parseInt(c.top,10),i&&(e.body.style.setProperty("padding-top",u),d.matches&&(r>=a()?n.style.setProperty("top",0):n.style.setProperty("top",a()-r+"px"))),n.classList.add("show-modal"))})),n.addEventListener("toggle-target-after-inactive",(function(l){l.target===n&&setTimeout((function(){var l=twentytwenty.toggles.clickedEl;n.classList.remove("show-modal"),Object.keys(s()).forEach((function(e){o.removeProperty(e)})),i&&(e.body.style.removeProperty("padding-top"),n.style.removeProperty("top")),!1!==l&&(l.focus(),l=!1),t.scrollTo(0,Math.abs(t.twentytwenty.scrolled+a())),t.twentytwenty.scrolled=0}),500)}))}))},untoggleModal:function(e){var t,n=!1;e.dataset.modalTargetString&&(t=e.dataset.modalTargetString,n=document.querySelector('*[data-toggle-target="'+t+'"]')),n?n.click():e.classList.remove("active")}},twentytwenty.modalMenu={init:function(){this.expandLevel(),this.keepFocusInModal()},expandLevel:function(){document.querySelectorAll(".modal-menu").forEach((function(e){var t=e.querySelector(".current-menu-item");t&&twentytwentyFindParents(t,"li").forEach((function(e){var t=e.querySelector(".sub-menu-toggle");t&&twentytwenty.toggles.performToggle(t,!0)}))}))},keepFocusInModal:function(){var e=document;e.addEventListener("keydown",(function(t){var n,o,i,a,s,l,c,r,u,d,g,f=twentytwenty.toggles.clickedEl;f&&e.body.classList.contains("showing-modal")&&(n=f.dataset.toggleTarget,i="input, a, button",o=e.querySelector(n),a=o.querySelectorAll(i),a=Array.prototype.slice.call(a),".menu-modal"===n&&(s=(s=window.matchMedia("(min-width: 1000px)").matches)?".expanded-menu":".mobile-menu",(a=a.filter((function(e){return null!==e.closest(s)&&null!==e.offsetParent}))).unshift(e.querySelector(".close-nav-toggle")),(l=e.querySelector(".menu-bottom > nav"))&&l.querySelectorAll(i).forEach((function(e){a.push(e)}))),r=a[a.length-1],u=a[0],c=e.activeElement,d=9===t.keyCode,!(g=t.shiftKey)&&d&&r===c&&(t.preventDefault(),u.focus()),g&&d&&u===c&&(t.preventDefault(),r.focus()))}))}},twentytwenty.primaryMenu={init:function(){this.focusMenuWithChildren()},focusMenuWithChildren:function(){var e,t,n,o=document.querySelector(".primary-menu-wrapper");if(!o)return!1;for(t=0,n=(e=o.getElementsByTagName("a")).length;t<n;t++)e[t].addEventListener("focus",i,!0),e[t].addEventListener("blur",i,!0);function i(){for(var e=this;-1===e.className.indexOf("primary-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}},twentytwenty.toggles={clickedEl:!1,init:function(){this.toggle(),this.resizeCheck(),this.untoggleOnEscapeKeyPress()},performToggle:function(e,t){var n,o,i,a=this,s=document,l=e,c=l.dataset.toggleTarget,r="active";s.querySelectorAll(".show-modal").length||(a.clickedEl=s.activeElement),(n="next"===c?l.nextSibling:s.querySelector(c)).classList.contains(r)?n.dispatchEvent(twentytwenty.createEvent("toggle-target-before-active")):n.dispatchEvent(twentytwenty.createEvent("toggle-target-before-inactive")),i=l.dataset.classToToggle?l.dataset.classToToggle:r,o=0,n.classList.contains("cover-modal")&&(o=10),setTimeout((function(){var e,o=n.classList.contains("sub-menu")?l.closest(".menu-item").querySelector(".sub-menu"):n,u=l.dataset.toggleDuration;"slidetoggle"!==l.dataset.toggleType||t||"0"===u?o.classList.toggle(i):twentytwentyMenuToggle(o,u),"next"===c||n.classList.contains("sub-menu")?l.classList.toggle(r):s.querySelector('*[data-toggle-target="'+c+'"]').classList.toggle(r),twentytwentyToggleAttribute(l,"aria-expanded","true","false"),a.clickedEl&&-1!==l.getAttribute("class").indexOf("close-")&&twentytwentyToggleAttribute(a.clickedEl,"aria-expanded","true","false"),l.dataset.toggleBodyClass&&s.body.classList.toggle(l.dataset.toggleBodyClass),l.dataset.setFocus&&(e=s.querySelector(l.dataset.setFocus))&&(n.classList.contains(r)?e.focus():e.blur()),n.dispatchEvent(twentytwenty.createEvent("toggled")),n.classList.contains(r)?n.dispatchEvent(twentytwenty.createEvent("toggle-target-after-active")):n.dispatchEvent(twentytwenty.createEvent("toggle-target-after-inactive"))}),o)},toggle:function(){var e=this;document.querySelectorAll("*[data-toggle-target]").forEach((function(t){t.addEventListener("click",(function(n){n.preventDefault(),e.performToggle(t)}))}))},resizeCheck:function(){document.querySelectorAll("*[data-untoggle-above], *[data-untoggle-below], *[data-toggle-above], *[data-toggle-below]").length&&window.addEventListener("resize",(function(){var e=window.innerWidth;document.querySelectorAll(".toggle").forEach((function(t){var n=t.dataset.untoggleAbove,o=t.dataset.untoggleBelow,i=t.dataset.toggleAbove,a=t.dataset.toggleBelow;(n||o||i||a)&&((n&&e>n||o&&e<o)&&t.classList.contains("active")||(i&&e>i||a&&e<a)&&!t.classList.contains("active"))&&t.click()}))}))},untoggleOnEscapeKeyPress:function(){document.addEventListener("keyup",(function(e){"Escape"===e.key&&document.querySelectorAll("*[data-untoggle-on-escape].active").forEach((function(e){e.classList.contains("active")&&e.click()}))}))}},twentytwentyDomReady((function(){twentytwenty.toggles.init(),twentytwenty.coverModals.init(),twentytwenty.modalMenu.init(),twentytwenty.primaryMenu.init(),twentytwenty.touchEnabled.init()})),jQuery(document).ready((function(e){var t,n;e("#noResult").hide();var o,i,a,s,l,c,r,u,d=e("#isotope-list").isotope({itemSelector:".item",layoutMode:"fitRows",filter:function(){var o=e(this),i=!t||o.text().match(t),a=!n||o.is(n);return i&&a}}),g=e("#id_search").keyup((o=function(){t=new RegExp(g.val(),"gi"),d.isotope(),d.data("isotope").filteredItems.length?e("#noResult").hide():e("#noResult").show()},function(){a&&clearTimeout(a),setTimeout((function(){o(),a=null}),i||100)}));function f(){var t;t=location.hash.match(/filter=([^&]+)/i),(n=t&&t[1])&&(e("#filters").find(".is-checked").removeClass("is-checked"),e("#filters").find('[data-filter="'+n+'"]').addClass("is-checked"),d.isotope())}e("#filters button").click((function(e){e.preventDefault()})),e("#filters button").on("click",(function(){if(e(this).hasClass("is-checked"))e(this).removeClass("is-checked"),location.hash="filter=*";else{var t=e(this).attr("data-filter");location.hash="filter="+encodeURIComponent(t)}})),f(),window.onhashchange=f,function(e){e(document);e(window).on("load",(function(){e("#isotope-list").isotope(),setTimeout((function(){e("#isotope-list").removeClass("loading")}),1e3)}))}(jQuery),c=document.querySelector("#id_search"),r=!1,u=function(){(l=c?c.value:"").length<3||(window.dataLayer.push({event:"studyfieldsInput",searchTerm:l}),r=!1)},null!==c&&(c.addEventListener("keydown",(function(e){r=!0,window.clearTimeout(s),13!==e.keyCode?s=setTimeout(u,1500):u()}),!0),c.addEventListener("blur",(function(){r&&(window.clearTimeout(s),u())}),!0))})),window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll('[role="tab"]'),t=document.querySelector('[role="tablist"]');e.forEach((e=>{e.addEventListener("click",changeTabs)}));let n=0;t.addEventListener("keydown",(t=>{"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||(e[n].setAttribute("tabindex",-1),"ArrowRight"===t.key?(n++,n>=e.length&&(n=0)):"ArrowLeft"===t.key&&(n--,n<0&&(n=e.length-1)),e[n].setAttribute("tabindex",0),e[n].focus())}))}));const menuBtn=document.querySelector(".menu-btn"),closeMenuBtn=document.querySelector(".close-btn"),fullscreenMenu=document.getElementById("fullscreenMenu");function toggleMenu(){fullscreenMenu.classList.toggle("active"),menuBtn.classList.toggle("active")}menuBtn.addEventListener("click",toggleMenu),closeMenuBtn.addEventListener("click",toggleMenu),document.addEventListener("keydown",(function(e){const t=e.target,n=e.shiftKey;if(9===e.keyCode&&t.closest('[role="dialog"]')){let o=t.closest('[role="dialog"]').querySelectorAll("a[href], button"),i=n?o[0]:o[o.length-1];i&&t===i&&(e.preventDefault(),i===o[0]?o[o.length-1].focus():o[0].focus())}}));
